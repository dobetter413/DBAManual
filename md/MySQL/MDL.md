# MDL 锁
>MDL 是一个表级别的锁，其作用是，保证读写的正确性。MDL 锁可以分为读锁和写锁，DML 会在表上加一个MDL 读锁；DDL 会在表上加一个DML 写锁。读锁之间相互兼容，读锁与写锁互不兼容.

案例：

当MDL 写锁(DDL)被 MDL 读锁(DML)阻塞时，MDL 写锁等待过程中会进一步阻塞后续的DML 读锁，此时该表对其他会话表现为不可读写。如果客户端存在重试机制时，超时后会一直发送新的读写请求，非常容易造成数据库连接爆满.

规避方式：
在进行DDL 前先查询 information_schema.innodb_trx 表，判断目标表上是否存在长事务，如果存在长事务，考虑暂缓DDL或者kill 掉该长事务.

